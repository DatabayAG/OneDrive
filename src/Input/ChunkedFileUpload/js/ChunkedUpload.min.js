initChunkedUpload=(a,b,c,d,e)=>{const f=document.getElementById(a);let g=!1;$("#form_"+b).on("submit",b=>{console.log("start chunked upload"),b.preventDefault(),il.waiter.show(),g=!0;let h=new FileReader,i=f.files[0];$.ajax({type:"post",url:c,data:{name:i.name}}).success(b=>{b=JSON.parse(b),$("#"+a).on("fileuploaddone",()=>{il.waiter.hide(),g=!1,"undefined"!=typeof e&&executeFunctionByName(e,window,i)}).on("fileuploadprogress",(a,b)=>{il.waiter.setPercentage(100*(b.loaded/b.total))}).on("fileuploadfail",(a,b)=>{il.waiter.hide(),g=!1,alert("Error: "+b.errorThrown)}),$("#"+a).fileupload(),$("#"+a).fileupload("send",{files:i,url:b.uploadUrl,type:"PUT",maxChunkSize:Math.min(d,i.size-1),multipart:!1})}).fail(a=>{il.waiter.hide(),alert("Error: "+a.message),console.log(a.responseText)})}),$(window).bind("beforeunload",()=>g?"Upload in progress. Are you sure you want to leave?":void 0)};function executeFunctionByName(a,b){for(var c=Array.prototype.slice.call(arguments,2),d=a.split("."),e=d.pop(),f=0;f<d.length;f++)b=b[d[f]];return b[e].apply(b,c)}